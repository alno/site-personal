<p>Как часто Вам приходилось хранить в стандартных STL контейнерах указатели на объекты? Я думаю, достаточно. Но хранение обычных указателей приводит к тому, что приходится тратить дополнительные усилия на то, чтобы проверять, что память освобождается при уничтожении контейнера.</p>

<p>Обычное решение этой проблемы - <a href="http://blog.alno.name/2008/05/using-boost-smart-pointers/">умные указатели</a> с подсчетом ссылок, обеспечивающие автоматическое освобождение памяти. Однако, достаточно часто встречаются случаи, когда их использование избыточно, например, когда объекты имеют всего одного владельца и подсчет ссылок, вообще говоря не нужен.</p>

<p>А судя по замерам, накладные расходы по производительности и памяти на подсчет ссылок достаточно велики: <a rel="nofollow" href="http://www.boost.org/doc/libs/1_38_0/libs/smart_ptr/smarttests.htm">Boost smart pointer timings</a>.</p>

<p>Что же делать в таких случаях? На помощь приходит очередная библиотека в составе <a href="http://blog.alno.name/tags/boost/">Boost</a> - Pointer Container Library. Она предоставляет основные контейнеры, схожие со стандартными, специально предназнченные для хранения указателей.</p>
